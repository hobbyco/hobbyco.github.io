<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „êµ­ í´ë¼ì´ë° ì•”ì¥ ê²€ìƒ‰ê¸° | ì›ì •ëŸ¬ í•„ìˆ˜ ì•±</title>
    <meta name="description" content="ì „êµ­ í´ë¼ì´ë° ì•”ì¥ ì •ë³´ë¥¼ í•œëˆˆì—! ì§€ì—­, ê°€ê²©, ì„¸íŒ…ì¼ ë“± ë‚˜ì—ê²Œ ë§ëŠ” ì•”ì¥ì„ ì‰½ê³  ë¹ ë¥´ê²Œ ì°¾ì•„ë³´ì„¸ìš”.">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KFCTS5DZ6V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KFCTS5DZ6V');
    </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2233415985336309" crossorigin="anonymous"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .filter-container { background-color: #f8f9fa; border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 2rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
        .card { transition: all 0.2s ease-in-out; background: white; border-radius: 0.5rem; padding: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .notice-box { background-color: #f3f4f6; border-radius: 0.5rem; padding: 1.5rem; margin-top: 3rem; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8 pt-4">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">ğŸ§— ì›ì •ëŸ¬ë¥¼ ìœ„í•œ í´ë¼ì´ë° ì•”ì¥ ê²€ìƒ‰ê¸°</h1>
            <p class="text-base md:text-lg text-gray-600 mt-2">ì´ë²ˆ ì£¼ ì›ì •ì€ ì–´ë””ë¡œ? ì„¸íŒ…ê³¼ í• ì¸ì •ë³´ê¹Œì§€!</p>
        </header>

        <div class="filter-container">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <input type="text" id="nameFilter" placeholder="ì•”ì¥ ì´ë¦„ ê²€ìƒ‰" class="p-3 border rounded-lg">
                <select id="sidoFilter" class="p-3 border rounded-lg"><option value="">ëª¨ë“  ì‹œ/ë„</option></select>
                <select id="regionFilter" class="p-3 border rounded-lg"><option value="">ëª¨ë“  ê¶Œì—­</option></select>
                <button id="resetFilters" class="bg-gray-500 text-white font-bold py-3 px-4 rounded-lg">í•„í„° ì´ˆê¸°í™”</button>
            </div>
        </div>

        <div id="resultsCountContainer" class="text-lg text-center mb-6">
            <p><span class="font-bold text-blue-600" id="resultsCount">0</span>ê°œì˜ ì•”ì¥ì„ ì°¾ì•˜ì–´ìš”!</p>
        </div>

        <div id="loading" class="text-center my-10">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"></div>
        </div>

        <div id="gymList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

        <div id="footerNotice" class="notice-box text-sm text-gray-600">
            <p class="font-bold text-base mb-2">â€» ì°¸ê³ ì‚¬í•­</p>
            <p>ì•”ì¥ ì‚¬ì •ì— ë”°ë¼ ì•”ì¥ ì •ë³´ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ, ë°˜ë“œì‹œ ë°©ë¬¸ ì „ í•´ë‹¹ ì•”ì¥ í™ˆí˜ì´ì§€/ì¸ìŠ¤íƒ€ê·¸ë¨ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”.<br> 
               ì›”ê¶Œ ë³´ë‹¤ëŠ” ì¼ê¶Œ ìœ„ì£¼ì˜ ì •ë³´ë¥¼ ë‹´ì•˜ìœ¼ë©°, í• ì¸ ì •ë³´ ì—­ì‹œ ê°œì¸ì— ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤ (í¬ë£¨ í• ì¸ ë“±ì€ ì ìš©í•˜ì§€ ì•ŠìŒ)<br>
               íŠ¹íˆ ì•„ë˜ ë‚´ìš©ì— ë”°ë¼, ê²€ìƒ‰ì´ ì˜ ì•ˆë  ìˆ˜ ìˆëŠ” ì  ìœ ì˜í•´ ì£¼ì‹­ì‹œì˜¤.</p>
            <ul class="list-disc list-inside mt-2 space-y-1">
                <li>ì˜¤í”ˆì‹œê°„ì´ í‰ì¼ì—ë„ ìš”ì¼ë§ˆë‹¤ ë‹¤ë¥¸ ì•”ì¥, ì£¼ë§ê³¼ ê³µíœ´ì¼ ì˜ì—… ì‹œê°„ì´ ë‹¤ë¥¸ ì•”ì¥ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ê³µíœ´ì¼ì´ í‰ì¼ì¼ ê²½ìš° (ì„¸íŒ… ì£¼ê¸°ê°€ ë‹¬ë¼ì§€ëŠ” ê²½ìš°ê°€ ë§ìŒ)</li>
                <li>ê²©ì£¼ ì„¸íŒ… ë“± ë§¤ì£¼ ì„¸íŒ…ì´ ì•„ë‹Œ ê²½ìš°</li>
                <li>ê¸°íƒ€ ë“±ë“±</li>
            </ul>
        </div>

        <div id="footer-container" class="mt-8"></div>
    </div>
    
    <script>
        // 5) ì™¸ë¶€ í‘¸í„° ë¡œë“œ
        async function loadFooter() {
            try {
                const response = await fetch('../footer.html');
                if (response.ok) {
                    const data = await response.text();
                    document.getElementById('footer-container').innerHTML = data;
                    if(window.lucide) lucide.createIcons();
                }
            } catch (e) { console.error('Footer fail'); }
        }

        const GOOGLE_SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQdN7on7-9sdHseYE5NCqz8hBh9G7qzyhFgvM4tPuzUile-HKjDm1PFLqxJFJiH-SEz5zV4fqGpzXmV/pub?gid=0&single=true&output=csv';

        let allGyms = [];

        async function fetchData() {
            try {
                const response = await fetch(GOOGLE_SHEET_URL);
                const csvText = await response.text();
                allGyms = parseCSV(csvText);
                
                // í•„í„° ì˜µì…˜ ìƒì„± ë° ì´ˆê¸° ë Œë”ë§
                const sidos = [...new Set(allGyms.map(g => g.ì‹œë„))].filter(Boolean).sort();
                const sidoSelect = document.getElementById('sidoFilter');
                sidos.forEach(s => {
                    const opt = document.createElement('option');
                    opt.value = opt.textContent = s;
                    sidoSelect.appendChild(opt);
                });

                filterGyms(); 
            } catch (error) {
                console.error("Fetch Error:", error);
                document.getElementById('gymList').innerHTML = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê²Œì‹œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”.";
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }

        // ì´ë¯¸ì§€ì— ëª…ì‹œëœ í—¤ë” ì´ë¦„ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ë„ë¡ ë§¤í•‘
        function parseCSV(text) {
            const lines = text.trim().split(/\r?\n/);
            if (lines.length < 2) return [];
            
            const headers = lines[0].split(',').map(h => h.trim());
            return lines.slice(1).map(line => {
                const values = [];
                let curr = '', inQuotes = false;
                for (let char of line) {
                    if (char === '"') inQuotes = !inQuotes;
                    else if (char === ',' && !inQuotes) { values.push(curr.trim()); curr = ''; }
                    else curr += char;
                }
                values.push(curr.trim());
                
                const obj = {};
                headers.forEach((h, i) => {
                    obj[h] = values[i] ? values[i].replace(/^"|"$/g, '') : "";
                });
                return obj;
            }).filter(g => g.ì•”ì¥ëª…); // 'ì•”ì¥ëª…' ì»¬ëŸ¼ì´ ë¹„ì–´ìˆì§€ ì•Šì€ ê²ƒë§Œ ì‚¬ìš©
        }

        function filterGyms() {
            const name = document.getElementById('nameFilter').value.toLowerCase();
            const sido = document.getElementById('sidoFilter').value;
            
            const filtered = allGyms.filter(g => {
                return (!name || g.ì•”ì¥ëª….toLowerCase().includes(name)) &&
                       (!sido || g.ì‹œë„ === sido);
            });

            renderGyms(filtered);
        }

        function renderGyms(gyms) {
            const list = document.getElementById('gymList');
            const count = document.getElementById('resultsCount');
            list.innerHTML = '';
            count.textContent = gyms.length;

            gyms.forEach(g => {
                const div = document.createElement('div');
                div.className = 'card';
                // ì´ë¯¸ì§€ì˜ ì»¬ëŸ¼ëª…ê³¼ ì •í™•íˆ ë§¤ì¹­ (ì¼ê¶Œê°€ê²©, í• ì¸ê°€ ë“±)
                div.innerHTML = `
                    <h3 class="font-bold text-lg border-b pb-2 mb-2">${g.ì•”ì¥ëª…}</h3>
                    <p class="text-sm">ğŸ“ ${g.ì‹œë„} ${g.ì‹œêµ°êµ¬} (${g.ê¶Œì—­ê¶Œ})</p>
                    <p class="text-sm">ğŸ’° ì¼ê¶Œ: ${Number(g.ì¼ê¶Œê°€ê²©).toLocaleString()}ì›</p>
                    ${g.í• ì¸ê°€ && g.í• ì¸ê°€ !== '-' ? `<p class="text-sm text-blue-600 font-medium">âœ¨ í• ì¸ê°€: ${Number(g.í• ì¸ê°€).toLocaleString()}ì›</p>` : ''}
                    <p class="text-xs text-gray-500 mt-2">ğŸ•’ í‰ì¼: ${g.í‰ì¼ì˜¤í”ˆì‹œê°„} / ì£¼ë§: ${g.ì£¼ë§ì˜¤í”ˆì‹œê°„}</p>
                    <p class="text-xs text-gray-500">â„¹ï¸ ${g.í• ì¸ì¡°ê±´}</p>
                `;
                list.appendChild(div);
            });
        }

        document.getElementById('nameFilter').addEventListener('input', filterGyms);
        document.getElementById('sidoFilter').addEventListener('change', filterGyms);
        document.getElementById('resetFilters').addEventListener('click', () => {
            document.getElementById('nameFilter').value = '';
            document.getElementById('sidoFilter').selectedIndex = 0;
            filterGyms();
        });

        window.onload = () => {
            fetchData();
            loadFooter();
        };
    </script>
    </body>
	<!-- 2026-02-26 14:07:11 -->
</html>
